#!/bin/bash

DOMAIN="drumitloud.io"
GITHUB_IPS=(
    "185.199.108.153"
    "185.199.109.153"
    "185.199.110.153"
    "185.199.111.153"
)

verify_dns_configuration() {
    echo "DNS Configuration Check for $DOMAIN"

    # Domain Resolution
    echo "Domain Resolution:"
    dig $DOMAIN
    dig www.$DOMAIN

    # GitHub Pages IP Connectivity
    echo "GitHub Pages IP Connectivity:"
    for ip in "${GITHUB_IPS[@]}"; do
        if ping -c 4 $ip > /dev/null 2>&1; then
            echo "Connected to GitHub IP: $ip ✅"
        else
            echo "Cannot connect to IP: $ip ❌"
        fi
    done

    # SSL Certificate Check
    echo "SSL Certificate Status:"
    openssl s_client -connect $DOMAIN:443 </dev/null 2>/dev/null | openssl x509 -noout -dates
}

verify_dns_configuration

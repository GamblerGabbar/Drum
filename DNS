#!/bin/bash

SUBDOMAIN="gamblergabbar.drumitloud.io"
MAIN_DOMAIN="drumitloud.io"
GITHUB_IPS=(
    "185.199.108.153"
    "185.199.109.153"
    "185.199.110.153"
    "185.199.111.153"
)

verify_subdomain_configuration() {
    echo "Subdomain DNS Configuration Check for $SUBDOMAIN"

    # Subdomain Resolution
    echo "Subdomain Resolution:"
    dig $SUBDOMAIN
    dig www.$SUBDOMAIN

    # Main Domain Resolution
    echo "Main Domain Resolution:"
    dig $MAIN_DOMAIN

    # GitHub Pages IP Connectivity
    echo "GitHub Pages IP Connectivity:"
    for ip in "${GITHUB_IPS[@]}"; do
        if ping -c 4 $ip > /dev/null 2>&1; then
            echo "Connected to GitHub IP: $ip ✅"
        else
            echo "Cannot connect to IP: $ip ❌"
        fi
    done
}

verify_subdomain_configuration
